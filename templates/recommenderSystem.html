<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apartment Recommendation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
</head>
<body>
    <div class="container">
        <h1>Apartment Finder</h1>

        <!-- Search Location and Radius -->
        <form method="POST">
            <h2>Select Location and Radius</h2>
            <label for="location">Location:</label>
            <select name="location">
                {% for loc in locations %}
                    <option value="{{ loc }}">{{ loc }}</option>
                {% endfor %}
            </select>

            <label for="radius">Radius (KMs):</label>
            <input type="number" step="0.1" name="radius" required>

            <button type="submit" name="search">Search</button>
        </form>

        {% if search_results %}
            <h3>Locations within Radius:</h3>
            <ul>
                {% for result in search_results %}
                    <li>{{ result }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <!-- Recommend Similar Apartments -->
        <form method="POST">
            <h2>Recommend Similar Apartments</h2>
            <label for="apartment">Select an Apartment:</label>
            <select name="apartment">
                {% for apt in apartments %}
                    <option value="{{ apt }}">{{ apt }}</option>
                {% endfor %}
            </select>

            <button type="submit" name="recommend">Recommend</button>
        </form>

        {% if recommendations %}
            <h3>Recommended Apartments:</h3>
            <ul>
                {% for rec in recommendations %}
                    <li>{{ rec['PropertyName'] }} - Score: {{ rec['SimilarityScore']|round(2) }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
</body>
</html>
